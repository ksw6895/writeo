
<!doctype html>
<html lang="ko" data-lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EWML Guide</title>
    <style>
      :root {
        --bg: #0f1218;
        --panel: #151a22;
        --text: #e6eaf0;
        --muted: #9aa4b2;
        --accent: #7aa2ff;
        --good: #34c38f;
        --bad: #f46a6a;
        --border: #232a36;
      }
      html, body { margin:0; padding:0; background: var(--bg); color: var(--text); font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, Apple Color Emoji, Segoe UI Emoji; }
      a { color: var(--accent); text-decoration: none; }
      a:hover { text-decoration: underline; }
      .page { max-width: 980px; margin: 0 auto; padding: 24px; }
      h1, h2, h3 { margin: 0 0 8px; }
      h1 { font-size: 28px; }
      h2 { font-size: 20px; margin-top: 22px; }
      h3 { font-size: 16px; margin-top: 18px; color: var(--muted); }
      p { line-height: 1.6; color: #d6dbe3; }
      .note { color: var(--muted); font-size: 14px; }
      .card { background: var(--panel); border: 1px solid var(--border); border-radius: 10px; padding: 14px; }
      .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
      .code { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; background: #0c0f14; border: 1px solid var(--border); border-radius: 8px; padding: 12px; overflow: auto; }
      table { width: 100%; border-collapse: collapse; }
      th, td { text-align: left; border-bottom: 1px solid var(--border); padding: 8px; }
      th { color: var(--muted); font-weight: 600; }
      .pill { display: inline-block; padding: 2px 8px; border-radius: 999px; border: 1px solid var(--border); color: var(--muted); font-size: 12px; }
      .role { color: #c586c0; font-weight: 700; }
      .good { color: var(--good); }
      .bad { color: var(--bad); }
      .muted { color: var(--muted); }
      .top { display:flex; align-items:center; justify-content: space-between; gap: 12px; margin-bottom: 16px; }
      .top .right { display:flex; gap: 8px; align-items:center; }
      .btn { background:#1e2633; color:var(--text); border:1px solid var(--border); border-radius:8px; padding:8px 10px; font-weight:600; cursor: pointer; }
      .seg { display:inline-flex; border:1px solid var(--border); border-radius:8px; overflow:hidden; }
      .seg button { background:#121722; color:var(--muted); border:0; padding:8px 10px; font-weight:700; letter-spacing:.2px; cursor:pointer; }
      .seg button.active { background:#1e2633; color:var(--text); }
      /* Language containers */
      .lang { display:none; }
      html[data-lang="ko"] .lang-ko { display:block; }
      html[data-lang="en"] .lang-en { display:block; }
    </style>
  </head>
  <body>
    <div class="page">
      <div class="top">
        <h1>EWML Guide <span class="pill">v0.1</span></h1>
        <div class="right">
          <div class="seg" role="tablist" aria-label="Language">
            <button id="btn-ko" class="active" onclick="setLang('ko')">í•œêµ­ì–´</button>
            <button id="btn-en" onclick="setLang('en')">English</button>
          </div>
          <a class="btn" href="/pad" title="Open EWML Pad">ğŸ§ª Open Pad</a>
          <a class="btn" href="/demo.ewml" title="Download demo">ğŸ“„ Demo</a>
          <a class="btn" href="/ewml-user-guide.md" title="Markdown Guide">ğŸ“˜ User Guide</a>
        </div>
      </div>

      <!-- Korean -->
      <div class="lang lang-ko">
        <p class="note">External Working Memory Language â€” ë¼ì¸ ê¸°ë°˜ êµ¬ì¡°í™”ëœ ì‘ì„±ìœ¼ë¡œ ê°€ì„¤, ê·¼ê±°, ê²°ì •/ì‘ì—…ì„ í•œ í™”ë©´ì—ì„œ ê´€ë¦¬í•©ë‹ˆë‹¤. ë¡œê·¸-ì˜¤ì¦ˆ ê¸°ë°˜ ì—…ë°ì´íŠ¸ë¡œ â€œìƒê°ì˜ ë¼ˆëŒ€â€ë¥¼ ê°€ë³ê²Œ ìˆ˜ì¹˜í™”í•©ë‹ˆë‹¤.</p>

        <div class="card" style="margin-top:14px;">
          <h2>Introduction â€” ì „ì²´ í° ê·¸ë¦¼</h2>
          <p>
            EWMLì€ â€œì™¸ë¶€ ì‘ì—… ê¸°ì–µ(External Working Memory)â€ë¥¼ ìœ„í•œ ë¯¸ë‹ˆ ì–¸ì–´ì…ë‹ˆë‹¤. í•œ ì¤„ì— í•˜ë‚˜ì˜ ì£¼ì¥/ê·¼ê±°/ê²°ì •ì„ ê¸°ë¡í•˜ê³ ,
            ê°„ë‹¨í•œ ë©”íƒ€ë°ì´í„°(<code>@p</code>, <code>@LR</code>, <code>@ref</code> ë“±)ë¡œ ì˜ë¯¸ë¥¼ ë¶™ì…ë‹ˆë‹¤. <strong>H</strong>ëŠ” ê°€ì„¤,
            <strong>EÂ±</strong>ëŠ” ì°¬ë°˜ ê·¼ê±°, <strong>D/T</strong>ëŠ” ê²°ì •/ì‘ì—…ì…ë‹ˆë‹¤. ì•±ì€ Hë³„ë¡œ ê·¼ê±°ë¥¼ ëª¨ì•„
            <em>logit</em>ê³¼ <em>ìš°ë„ë¹„(LR)</em>ë¥¼ ì´ìš©í•´ posteriorë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤. ë…¸íŠ¸ì™€ ê°€ë²¼ìš´ ë² ì´ì¦ˆ ì—…ë°ì´íŠ¸ê°€ í•˜ë‚˜ë¡œ ë¶™ì€ í˜•íƒœì£ .
          </p>
          <p>
            ëª©í‘œëŠ” ë‘ ê°€ì§€ì…ë‹ˆë‹¤: (1) ìƒê°ì„ êµ¬ì¡°í™”í•´ ìŠì§€ ì•Šê¸°, (2) ê·¼ê±°ì˜ ë°©í–¥/ê°•ë„ë¥¼ ì •ì§í•˜ê²Œ ë°˜ì˜í•˜ê¸°. ë„ˆë¬´ ê±°ì°½í•œ ì •ë¦¬/ëª¨ë¸ë§ì´ ì•„ë‹ˆë¼
            â€œì ë‹¹íˆ Geekâ€í•œ ì‹¤ìš© ë„êµ¬ë¥¼ ì§€í–¥í•©ë‹ˆë‹¤. ì¦ê±°ìš´ ì‘ì„± ë˜ì„¸ìš”!
          </p>
        </div>

        <h2>ë¹ ë¥¸ ì‹œì‘</h2>
        <div class="card">
          <p>ê° ë¬¸ì¥ì€ í•œ ì¤„: <strong class="role">ì—­í• </strong>: ë‚´ìš© <span class="muted">@ë©”íƒ€=ê°’, ...</span></p>
          <div class="code"><pre>H: PE ì˜ì‹¬ í™˜ì @p=0.02
E+: ë¹ˆë§¥ @ref=H1, @grade=moderate+
E-: D-dimer(-) @ref=H1, @LR=0.33
D: p(H1) &gt;= 0.6 ì´ë©´ CTPA ê³ ë ¤</pre></div>
          <p>
            - <span class="role">H</span>: ê°€ì„¤. <code>@p</code> ë˜ëŠ” <code>@lo</code>ë¡œ ì‚¬ì „í™•ë¥  ì„¤ì •(ìë™ H1,H2â€¦).<br/>
            - <span class="role good">E+</span>/<span class="role bad">E-</span>: ì°¬/ë°˜ ê·¼ê±°. <code>@ref</code>ë¡œ H ì—°ê²°, <code>@LR</code> ë˜ëŠ” <code>@grade</code>ë¡œ ê°•ë„ ì„¤ì •.<br/>
            - <span class="role">D</span>/<span class="role">T</span>: ê²°ì •/ì‘ì—…. ìš”ì•½/ê·¸ë˜í”„ì— í‘œì‹œ(ê³„ì‚°ì—ëŠ” ë¯¸ë°˜ì˜).
          </p>
          <p class="note">íŒ: ìƒë‹¨ì˜ â€œğŸ§ª Open Padâ€ë¡œ í¸ì§‘ê¸°ë¥¼ ì—´ê³ , ìƒ˜í”Œì„ ë¶ˆëŸ¬ì™€ ë°”ë¡œ ì‹¤ìŠµí•˜ì„¸ìš”.</p>
        </div>

        <h2>ì—­í• (ROLE)</h2>
        <div class="grid">
          <div class="card"><h3><span class="role">H</span> â€” ê°€ì„¤</h3><p>ìë™ ë ˆì´ë¸”(H1,H2â€¦) ë˜ëŠ” <code>H2:</code>ì²˜ëŸ¼ ëª…ì‹œ. <code>@p</code>(0â€“1)ë‚˜ <code>@lo</code>(logit) ì¤‘ í•˜ë‚˜ë¥¼ ì ìœ¼ë©´ ë‚˜ë¨¸ì§€ëŠ” ìë™ ë™ê¸°í™”.</p></div>
          <div class="card"><h3><span class="role">E+</span>/<span class="role">E-</span> â€” ê·¼ê±°</h3><p><code>@ref</code>ë¡œ ëŒ€ìƒ H ë‚˜ì—´(ì‰¼í‘œ/ì„¸ë¯¸ì½œë¡ ). ê°•ë„ëŠ” <code>@LR</code> ë˜ëŠ” <code>@grade</code>, ê°€ì¤‘ì¹˜ëŠ” <code>@kappa</code>(ì„ íƒ).</p></div>
          <div class="card"><h3><span class="role">D</span> â€” ê²°ì •</h3><p>ì„ê³„ì¹˜/ì •ì±…ì„ ë©”ëª¨. v0.1ì—ì„œëŠ” ê³„ì‚°ì— ì˜í–¥ ì—†ìŒ.</p></div>
          <div class="card"><h3><span class="role">T</span> â€” ì‘ì—…</h3><p>ì‹¤í–‰ í•­ëª©/í›„ì† ì¡°ì¹˜. <code>@time</code> ë“± ë©”íƒ€ëŠ” ê·¸ëŒ€ë¡œ ë³´ì¡´.</p></div>
          <div class="card"><h3><span class="role">R</span> â€” ì„¤ëª…/ìˆ˜ì‹</h3><p>ì„œìˆ /ë„ì¶œ/ê´€ê³„ í‘œê¸°. v0.1ì—ì„œëŠ” í‘œì‹œ ì „ìš©.</p></div>
          <div class="card"><h3><span class="role">M</span> â€” ë¬¸ì„œ ë©”íƒ€</h3><p><code>M: doc="Case-123"; ver=0.1; author=â€¦; time=â€¦</code> ë“±. í‘œì‹œ ì „ìš©.</p></div>
        </div>

        <h2>ê³„ì‚° ì›ë¦¬</h2>
        <div class="card">
          <p>ê°€ì„¤ë³„ë¡œ ê·¼ê±°ì˜ ln(LR)ë¥¼ ëˆ„ì í•´ posteriorë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.</p>
          <div class="code"><pre>lo_post = lo_prior + Î£ ( ln(LR) Â· Îº )
p = 1 / (1 + e^{-lo})</pre></div>
          <p class="note">ê¶Œì¥: Eâˆ’ì—ëŠ” LR&lt;1, E+ì—ëŠ” LR&gt;1. Consoleì—ì„œ ì¼ë°˜ì  ì˜¤ë¥˜ë¥¼ ê²½ê³ í•©ë‹ˆë‹¤.</p>
        </div>

        <h2>Grade â†”ï¸ LR</h2>
        <div class="card">
          <table>
            <thead><tr><th>Grade</th><th>LR</th></tr></thead>
            <tbody>
              <tr><td>very-strong+</td><td>10</td></tr>
              <tr><td>strong+</td><td>5</td></tr>
              <tr><td>moderate+</td><td>3</td></tr>
              <tr><td>weak+</td><td>1.5</td></tr>
              <tr><td>neutral</td><td>1</td></tr>
              <tr><td>weak-</td><td>â‰ˆ 0.67 (1/1.5)</td></tr>
              <tr><td>moderate-</td><td>â‰ˆ 0.33 (1/3)</td></tr>
              <tr><td>strong-</td><td>0.2 (1/5)</td></tr>
              <tr><td>very-strong-</td><td>0.1 (1/10)</td></tr>
            </tbody>
          </table>
        </div>

        <h2>ë¬¸ë²• ê·œì¹™</h2>
        <div class="card"><p>- í•œ ì¤„ í•˜ë‚˜ì˜ ë¬¸ì¥: <code>ROLE: text @k=v, @k2=v2</code><br/>- ë©”íƒ€ëŠ” ì‰¼í‘œë¡œ ë¶„ë¦¬, ìˆ«ìëŠ” ìë™ìœ¼ë¡œ ìˆ«ìí˜•ìœ¼ë¡œ íŒŒì‹±<br/>- <code>@ref</code>ëŠ” <code>H1,H2</code> ë˜ëŠ” <code>H1; H2</code><br/>- <code>H:</code>ëŠ” ìë™ ë²ˆí˜¸, <code>H2:</code>ëŠ” ëª…ì‹œ ë ˆì´ë¸”</p></div>

        <h2>ì•± íŒ¨ë„</h2>
        <div class="grid">
          <div class="card"><h3>Editor</h3><p>EWML ì‘ì„±. â€œìƒ˜í”Œ ë¶ˆëŸ¬ì˜¤ê¸°â€, â€œë³µì‚¬â€ ë²„íŠ¼ ì œê³µ.</p></div>
          <div class="card"><h3>Outline</h3><p>H/D/T ìš”ì•½. Hë³„ prior â†’ posterior, Î£ ln(LR) í‘œì‹œ.</p></div>
          <div class="card"><h3>Graph</h3><p>H ë…¸ë“œì™€ EÂ± ë…¸ë“œ, ì¦ê±°â†’ê°€ì„¤ ê°„ì„  ì‹œê°í™”.</p></div>
          <div class="card"><h3>Console</h3><p><code>@ref</code> ëˆ„ë½, ì˜ëª»ëœ LR, prior ì—†ìŒ, <code>@p</code>/<code>@lo</code> ë¶ˆì¼ì¹˜ ë“±ì„ ê²½ê³ .</p></div>
        </div>

        <h2>AI Assist (LLM)</h2>
        <div class="card">
          <p>ì—ë””í„° ìƒë‹¨ì˜ â€œAI ë³€í™˜/AI ë³´ê°•â€ìœ¼ë¡œ ììœ  ì„œìˆ ì„ EWMLë¡œ ë³€í™˜í•˜ê±°ë‚˜ ë©”íƒ€(@ref, @grade/@LR, @kappa, @p)ë¥¼ ì±„ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
          <p class="note">ë°°í¬ í™˜ê²½(Vercel)ì—ì„œ <code>GEMINI_API_KEY</code>ë¥¼ ì„¤ì •í•´ì•¼ ë™ì‘í•©ë‹ˆë‹¤. ì„ íƒì ìœ¼ë¡œ <code>GEMINI_MODEL</code> (ì˜ˆ: <code>gemini-2.5-flash</code>), <code>GEMINI_API_VERSION</code> (<code>v1</code>|<code>v1beta</code>|<code>auto</code>), <code>GEMINI_API_BASE</code>ë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ë³¸ì€ <code>gemini-1.5-flash</code>/<code>v1beta</code>ì…ë‹ˆë‹¤.</p>
        </div>

        <h2>ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤</h2>
        <div class="card"><p>- ëª…í™•í•œ ê°€ì„¤ + í˜„ì‹¤ì ì¸ priorë¡œ ì‹œì‘<br/>- ì†ë„ëŠ” <code>@grade</code>, ì •ë°€ë„ëŠ” <code>@LR</code><br/>- ê·¼ê±°ëŠ” ê°€ê¸‰ì  ì›ìì ìœ¼ë¡œ(EÂ± í•œ ì¤„ = í•˜ë‚˜ì˜ ê´€ì°°)<br/>- ìƒê´€/ë¶ˆí™•ì‹¤ ê·¼ê±°ëŠ” <code>@kappa</code>ë¡œ ë‹¤ìš´ì›¨ì´íŠ¸<br/>- ì—¬ëŸ¬ Hì— ì˜í–¥ì´ë©´ <code>@ref</code>ì— ëª¨ë‘ ëª…ì‹œ</p></div>

        <h2>ì œí•œ (v0.1)</h2>
        <div class="card"><p>- ì‚¬ì´í´ ê°ì§€ ì—†ìŒ, R/C/Mì€ í‘œì‹œ ì „ìš©<br/>- ê·¼ê±° ë…ë¦½ì„± ê°€ì •(ln-odds í•©ì‚°). ì˜ì¡´ì„± ëª¨ë¸ë§ ë¯¸ì§€ì›<br/>- D/TëŠ” í™•ë¥  ê³„ì‚°ì— ì˜í–¥ ì—†ìŒ</p></div>

        <h2>ë¯¸ë‹ˆ ë°ëª¨</h2>
        <div class="card code"><pre>M: doc=&quot;Demo-PE-Case&quot;; ver=0.1; author=ê°í•˜; time=2025-08-16
H1: PE ì˜ì‹¬ í™˜ì @p=0.02
E+: ë¹ˆë§¥ @ref=H1 @grade=weak+
E-: D-dimer(-) @ref=H1 @grade=strong-
R:  lo(H1) &lt;&lt;+&gt;&gt; ln(LR ë¹ˆë§¥) + ln(LR D-dimer)
D:  if p(H1) &lt; 0.01 =&gt; CTPA ìƒëµ
T:  ê²°ê³¼ í™•ì¸ í›„ @outcome=false @time=2025-08-17</pre></div>

        <h2>ì˜ˆì‹œ ëª¨ìŒ</h2>
        <div class="grid">
          <div class="card code"><pre>H: ì˜¤ëŠ˜ì€ í”¼ìë¥¼ ë¨¹ì–´ì•¼ í•¨ @p=0.7
E+: ì¼ì£¼ì¼ì§¸ í”¼ìë¥¼ ëª» ë¨¹ìŒ @ref=H1, @grade=moderate+
E-: ëƒ‰ì¥ê³ ì— ë°˜ì°¬ì´ ë§ìŒ @ref=H1, @LR=0.5
D: p(H1) â‰¥ 0.6 ì´ë©´ í”¼ì ì£¼ë¬¸</pre></div>
          <div class="card code"><pre>H: ì˜¤ëŠ˜ ì§‘ì¤‘ì´ ì˜ ë  ê²ƒ @p=0.5
E+: 7ì‹œê°„ ìˆ™ë©´ @ref=H1, @grade=strong+
E-: ì˜¤ì „ íšŒì˜ 3ê°œ @ref=H1, @grade=moderate-
T: ì ì‹¬ ì´í›„ ë”¥ì›Œí¬ 2ì‹œê°„ í™•ë³´</pre></div>
          <div class="card code"><pre>H: ì„œë¹„ìŠ¤ A ê¸°ëŠ¥ Xê°€ ë§¤ì¶œì— ê¸°ì—¬ @p=0.2
E+: ë² íƒ€ ì‚¬ìš©ì ì”ì¡´ ì¦ê°€ @ref=H1, @LR=3
E-: ê²½ìŸì‚¬ë„ ìœ ì‚¬ íš¨ê³¼ ë³´ê³  @ref=H1, @LR=0.6, @kappa=0.7
D: p(H1) â‰¥ 0.5 ì´ë©´ ì „ëŸ‰ ë¡¤ì•„ì›ƒ</pre></div>
        </div>

        <p class="note">ì¦ê±°ìš´ ì‘ì„± ë˜ì„¸ìš”! | Happy structured writing.</p>
      </div>

      <!-- English -->
      <div class="lang lang-en">
        <p class="note">External Working Memory Language â€” a line-based, structured way to capture hypotheses, evidence, and decisions, with lightweight log-odds updates.</p>

        <div class="card" style="margin-top:14px;">
          <h2>Introduction â€” The Big Picture</h2>
          <p>
            EWML is a tiny language for your external working memory. Each line holds a claim/evidence/decision with compact metadata
            like <code>@p</code>, <code>@LR</code>, and <code>@ref</code>. <strong>H</strong> is a hypothesis, <strong>EÂ±</strong> are pro/contra evidences,
            and <strong>D/T</strong> are decisions/tasks. The app aggregates evidence per H and computes posterior via logits and likelihood ratios.
          </p>
          <p>
            Goals: (1) structure thoughts so you donâ€™t lose them, (2) reflect direction/strength of evidence honestly. Itâ€™s intentionally lightweight â€” a mildly geeky, practical tool. Enjoy!
          </p>
        </div>

        <h2>Quickstart</h2>
        <div class="card">
          <p>One line per statement: <strong class="role">ROLE</strong>: text <span class="muted">@meta=value, ...</span></p>
          <div class="code"><pre>H: Suspect PE @p=0.02
E+: Tachycardia @ref=H1, @grade=moderate+
E-: D-dimer negative @ref=H1, @LR=0.33
D: if p(H1) &gt;= 0.6 =&gt; consider CTPA</pre></div>
          <p>- <span class="role">H</span>: hypothesis. Set prior via <code>@p</code> or <code>@lo</code> (auto-numbered H1,H2â€¦).<br/>- <span class="role good">E+</span>/<span class="role bad">E-</span>: pro/contra evidence. Link via <code>@ref</code>; set <code>@LR</code> or <code>@grade</code>.<br/>- <span class="role">D</span>/<span class="role">T</span>: decisions/tasks. Shown in Outline; not used in math.</p>
          <p class="note">Tip: Use â€œğŸ§ª Open Padâ€ to try the editor.</p>
        </div>

        <h2>Roles</h2>
        <div class="grid">
          <div class="card"><h3><span class="role">H</span> â€” Hypothesis</h3><p>Auto labels (H1,H2â€¦) or explicit <code>H2:</code>. Prior via <code>@p</code> or <code>@lo</code>; the other is auto-synced.</p></div>
          <div class="card"><h3><span class="role">E+</span>/<span class="role">E-</span> â€” Evidence</h3><p>List targets in <code>@ref</code>. Strength via <code>@LR</code> or <code>@grade</code>; optional weight <code>@kappa</code>.</p></div>
          <div class="card"><h3><span class="role">D</span> â€” Decision</h3><p>Thresholds/policies notes. Display-only in v0.1.</p></div>
          <div class="card"><h3><span class="role">T</span> â€” Task</h3><p>Follow-ups and actions. Metadata like <code>@time</code> kept as-is.</p></div>
          <div class="card"><h3><span class="role">R</span> â€” Rationale/Relation</h3><p>Explanations or equations. Display-only in v0.1.</p></div>
          <div class="card"><h3><span class="role">M</span> â€” Document Meta</h3><p><code>M: doc=&quot;Case-123&quot;; ver=0.1; author=â€¦; time=â€¦</code>. Display-only.</p></div>
        </div>

        <h2>Calculation</h2>
        <div class="card"><p>Aggregate ln(LR) per hypothesis to update posterior.</p><div class="code"><pre>lo_post = lo_prior + Î£ ( ln(LR) Â· Îº )
p = 1 / (1 + e^{-lo})</pre></div><p class="note">Heuristics: Eâˆ’ with LR&lt;1, E+ with LR&gt;1. Console warns on common issues.</p></div>

        <h2>Grades â†”ï¸ LR</h2>
        <div class="card"><table><thead><tr><th>Grade</th><th>LR</th></tr></thead><tbody>
          <tr><td>very-strong+</td><td>10</td></tr>
          <tr><td>strong+</td><td>5</td></tr>
          <tr><td>moderate+</td><td>3</td></tr>
          <tr><td>weak+</td><td>1.5</td></tr>
          <tr><td>neutral</td><td>1</td></tr>
          <tr><td>weak-</td><td>â‰ˆ 0.67</td></tr>
          <tr><td>moderate-</td><td>â‰ˆ 0.33</td></tr>
          <tr><td>strong-</td><td>0.2</td></tr>
          <tr><td>very-strong-</td><td>0.1</td></tr>
        </tbody></table></div>

        <h2>Syntax</h2>
        <div class="card"><p>- One line per statement: <code>ROLE: text @k=v, @k2=v2</code><br/>- Comma-separated metadata; numeric values parsed as numbers<br/>- <code>@ref</code> accepts <code>H1,H2</code> or <code>H1; H2</code><br/>- <code>H:</code> auto-numbers; <code>H2:</code> sets explicitly</p></div>

        <h2>App Panels</h2>
        <div class="grid">
          <div class="card"><h3>Editor</h3><p>Write EWML. â€œLoad Sampleâ€ and â€œCopyâ€ available.</p></div>
          <div class="card"><h3>Outline</h3><p>Summarizes H/D/T with prior â†’ posterior and Î£ ln(LR).</p></div>
          <div class="card"><h3>Graph</h3><p>H nodes and EÂ± nodes with edges to referenced H.</p></div>
          <div class="card"><h3>Console</h3><p>Warns on missing <code>@ref</code>, invalid LR, missing prior, inconsistent <code>@p</code>/<code>@lo</code>.</p></div>
        </div>

        <h2>Best Practices</h2>
        <div class="card"><p>- Start with one clear hypothesis and a realistic prior<br/>- Use <code>@grade</code> for speed; <code>@LR</code> for precision<br/>- Keep evidence atomic (one observation per EÂ± line)<br/>- Downweight correlated/uncertain evidence with <code>@kappa</code><br/>- If evidence pertains to multiple Hs, list them all in <code>@ref</code></p></div>

        <h2>Limits (v0.1)</h2>
        <div class="card"><p>- No cycle detection; R/C/M display-only<br/>- Assumes evidence independence via ln-odds sum; no dependency modeling
        <br/>- D/T do not affect probabilities</p></div>

        <h2>Mini Demo</h2>
        <div class="card code"><pre>M: doc=&quot;Demo-PE-Case&quot;; ver=0.1; author=Gakha; time=2025-08-16
H1: Suspect PE @p=0.02
E+: Tachycardia @ref=H1 @grade=weak+
E-: D-dimer(-) @ref=H1 @grade=strong-
R:  lo(H1) &lt;&lt;+&gt;&gt; ln(LR tachy) + ln(LR d-dimer)
D:  if p(H1) &lt; 0.01 =&gt; skip CTPA
T:  check outcome @outcome=false @time=2025-08-17</pre></div>

        <p class="note">Happy structured writing. Keep it mildly geeky.</p>
      </div>
    </div>

    <script>
      (function initLang(){
        try {
          const saved = localStorage.getItem('ewml-lang');
          const lang = (saved === 'en' || saved === 'ko') ? saved : 'ko';
          setLang(lang, true);
        } catch(e) { /* noop */ }
      })();
      function setLang(lang, init){
        const html = document.documentElement;
        html.setAttribute('data-lang', lang);
        html.setAttribute('lang', lang);
        const btnKo = document.getElementById('btn-ko');
        const btnEn = document.getElementById('btn-en');
        if (btnKo && btnEn) {
          if (lang === 'ko') { btnKo.classList.add('active'); btnEn.classList.remove('active'); }
          else { btnEn.classList.add('active'); btnKo.classList.remove('active'); }
        }
        if (!init) {
          try { localStorage.setItem('ewml-lang', lang); } catch(e) {}
        }
      }
      window.setLang = setLang;
    </script>
  </body>
</html>
